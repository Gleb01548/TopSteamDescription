# Топы стима

- [Топы стима](#топы-стима)
  - [Информация за дневной период.](#информация-за-дневной-период)
  - [Информация за не дневной период (неделю, месяц, год).](#информация-за-не-дневной-период-неделю-месяц-год)
  - [Файл excel](#файл-excel)
    - [Период день](#период-день)
    - [Не дневной период (неделя, месяц, год)](#не-дневной-период-неделя-месяц-год)


В канале ТопСтим раз в день выкладывается несколько таблиц, среди них:

1. 100 самых популярных игр в [стиме](https://store.steampowered.com/charts/mostplayed) за прошедший период (это может быть день, неделя, месяц, год);
2. игры, вошедшие в топ;
3. игры, которые из топа вышли;
4. игры, которые в топе остались.

Указанные выше таблицы будут в дальнейшем обозначаться Таблицы 1-4.

Источник данных: [Чарты Steam](https://store.steampowered.com/charts/mostplayed), информация о самых популярных играх за последние 24 часа. Считывание информации происходит в 00:20 по Гринвичу (GMT).

Далее информация о каждой таблице в зависимости от периода.

## Информация за дневной период.

Таблицы 1-3 содержат колонки:

- Ранг
- Макс. игроков, тыс.
- Название игры.

**Ранг** означает какое место по популярности игра занимает (по максимальному количеству игроков).

**Макс. игроков, тыс.** (максимум игроков) - пиковый онлайн конкретной игры за последние 24 часа.

**Таблица 1** содержит топ100 самых популярных игр в стиме на определенную дату.
![Таблица 1](https://github.com/Gleb01548/TopSteamDescription/blob/main/resources/day_table_1.png)


Таблицы 2-4 формируются путем сравнения таблицы 1 текущего периода с периодом прошлым.

**Таблица 2** содержит информацию о том какие игры вошли в топ, в сравнении с прошлым периодом.
<details>
Например, 02.01.2024 в топ100 самых популярных игр не входил The Elder Scrolls® Online и Counter-Strike, однако 03.01.2024 появились в топе, что отражено в Таблице 2 за 03.01.2024. Также в этой же таблице будет указано максимальное количество игроков, игравших в The Elder Scrolls® Onlin и Counter-Strike 03.01.2024.
</details>

![Таблица 2](https://github.com/Gleb01548/TopSteamDescription/blob/main/resources/day_table_2.png)

**Таблица 3** содержит информацию о том какие игры вышли из топа, в сравнении с прошлым периодом.
<details>
Например, 02.01.2024 в топ100 самых популярных игр входили EA SPORTS™ FIFA 23 и Party Animals, однако 03.01.2024 из топа вышли, что отражено в Таблице 3 за 03.01.2024. Также в этой же таблице указано максимальное количество игроков, игравших в EA SPORTS™ FIFA 23 и Party Animals 02.01.2024 и их ранг в эту дату (то есть с каких позиций они вылетели).
</details>

![Таблица 3](https://github.com/Gleb01548/TopSteamDescription/blob/main/resources/day_table_3.png)

**Таблица 4** содержит информации об играх, которые в топе были в прошедшем периоде и остались в актуальном периоде.

**Таблица 4** содержит колонки:

- Рост игроков, %
- Макс. игроков, тыс.
- Имя игры

**Рост игроков, %** — это то насколько вырос топовый онлайн игроков по сравнению с прошлым днем в процентах, если процент отрицательный, то насколько упал.

**Макс. игроков, тыс.** — это текущий топовый онлайн игроков.

<details>
Например, 05.01.2024  у Left 4 Dead 2 пиковый онлайн был 44.2 тыс. игроков. А 06.01.2024 пиковый онлайн был уже 54.1 тыс. игроков. Таким образом, показатель «Рост игроков, %» составляет 22.6, а «Макс. игроков, тыс.» 54.1.
</details>

![Таблица 4](https://github.com/Gleb01548/TopSteamDescription/blob/main/resources/day_table_4.png)


## Информация за не дневной период (неделю, месяц, год).

Информация за неделю, месяц, год формируется по прошествии этих период. В сообщении в Telegram будет указана дата начала анализируемого периода и указание на то какой это период (неделя, месяц, год).

Каждый период сравнивается с аналогичным прошедшим периодом. То есть неделя с неделей, месяц с месяцем, год с годом.

Например, данные за неделю, которая начинается 01.01.2024 и длиться до 07.01.2024 (включительно), рассчитается только 08.01.2024. В шапке сообщения будет указано, что период - неделя, а информация за 2024-01-01 (то есть дата, когда анализируемая неделя началась)

Информация за неделю, месяц, год формируется по принципу агрегации данных за дневные периоды, поэтому информация в таких таблицах будет немного отличаться от данных за дневные периоды.

**Таблица 1-3** содержат колонки:

- Ранг
- Дни в топе
- Ср. макс. игроков, тыс.
- Название игры

**Дни в топе** — это то сколько дней в топе игра была за период.

**Ср. макс. игроков, тыс.** — это сколько игроков было у игры в среднем в те дни, когда игра была в топе в определенный период. Это значить, что если, например, Counter-Strike был в январе в топе только 8 раз, то при расчете среднего максимального количества игроков за месяц будут использованы данные только за эти 8 дней.

**Ранг** - ранг у игр будет высчитываться так:

1. Таблица сортируется по "Дни в топе" от большего к меньшему.
2. Далее таблица сортируется по "Ср. макс. игроков, тыс." от большего к меньшему, но делается это так, чтобы игры с большим количеством дней в топе стояли выше игр с меньшим количеством дней.
3. Таблица ранжируется и первые 100 игр включаются в **Таблицу 1**, также на основе данных по этим играм формируются **Таблицы 2-3**.

<details>
Например, если посмотреть на данные за неделю, которая началась 2024-01-01, то видно, что Aimlabs была в топе 7 дней, при среднем максимуме игроков в 6,6 тыс., тогда как Sea of Thieves 2023 Edition была в топе 6 дней, при среднем максимуме игроков в 19,7 тыс. Несмотря на то что средний максимум у Sea of Thieves 2023 Edition значительно больше чем у Aimlabs (где-то в 3 раза), Aimlabs выше по рейтингу, чем Sea of Thieves 2023 Edition (94 место против 95). Произошло так, потому что у Aimlabs показатель "Дни в топе" 7, а у Sea of Thieves 2023 Edition 6.

Также на скриншоте видно, что People Playground по рейтингу выше, чем Aimlabs. Несмотря на то, что дней в топе у них одинаковое количество. Так происходит, потому что у People Playground выше средний максимум, чем у Aimlabs (7,6 тыс. против 6,6 тыс.).
</details>

![Данные за неделю](https://github.com/Gleb01548/TopSteamDescription/blob/main/resources/period_2.png) 



**Таблица 1** содержит топ100 самых популярных игр в стиме за определенный период.

**Таблица 2** содержит информацию о том какие игры вошли в топ, в сравнении с прошлым периодом.

**Таблица 3** содержит информацию о том какие игры вышли из топа, в сравнении с прошлым периодом.

**Таблица 4** содержит информации об играх, которые в топе были в прошедшем периоде и остались в актуальном периоде.

**Таблица 4** содержит колонки:

- Изм. дней в топе
- Изм. ср. макс. игроков, %
- Акт. ср. макс. игроков
- Имя игры

**Изм. дней в топе** — это то насколько выросло количество дней нахождения игры в топе за определенный период (или упало).

**Изм. ср. макс. игроков, %** — это то насколько вырос средний максимальный онлайн игроков по сравнению с прошлым периодом в процентах, если процент отрицательный, то насколько упал.

**Акт. ср. макс. игроков** - актуальный средний онлайн игроков.

## Файл excel

К разбору каждого периода за каждую дату прикреплен файл excel, который содержит несколько листов, их наполнение зависит от того за какой период идет анализ информации. Листы в excel: TopNow, NewInTop, GoOut, Diff, CumulYear.

### Период день

Если данные проанализированы за дневной период, то TopNow, NewInTop, GoOut полностью соответствуют Таблицам 1-3 соответственно.

Таблица Diff такая же, как и Таблица 4, однако добавлена колонка "пред. ранг", которая указывает на то какой у игры был ранг в предыдущий день.

CumulYear (cumulative for year) — это нарастающий итог за год по состоянию на актуальную дату. Этот итог содержит список **всех** игр, которые когда-либо были в топ100 в текущем году, сколько дней в году они были в топе и какой средний максимум игроков у них был (в тыс.).

Пример файла [excel](https://github.com/Gleb01548/TopSteamDescription/blob/main/resources/day_data_2024-01-07.xlsx) с информацией за день

### Не дневной период (неделя, месяц, год)

Если данные проанализированы за не дневной период, то:

- TopNow имеет те же колонки, что и Таблица 1, однако не ограничена топ100, в нее попадает информация по всем играм, которые попадали в топ100 стима за не дневной период в рамках анализируемого периода.
- NewInTop и GoOut полностью соответствуют Таблицам 2 и 3 соответственно.
- Таблица Diff такая же, как и Таблица 4, однако добавлены колонки:
  - Акт. дни в топе — это сколько дней в топе находилась игра в актуальном периоде
  - Пред. дни в топе — это сколько дней в топе находилась игра в предыдущем периоде
  - Акт. ср. макс. игроков — это средний максимум игроков в актуальном периоде
  - Пред. ср. макс. игроков — это средний максимум игроков в предыдущем периоде
  - Акт. ранг - ранг в актуальном периоде
  - Пред. ранг - ранг в предыдущем периоде
- CumulYear (cumulative for year) — это нарастающий итог за год по состоянию на актуальную дату. Этот итог содержит список **всех** игр, которые когда-либо были в топ100 в текущем году, сколько дней в году они были в топе и какой средний максимум игроков у них был (в тыс.).

Пример файла [excel](https://github.com/Gleb01548/TopSteamDescription/blob/main/resources/week_data_2024-01-08.xlsx) с информацией за неделю
 
